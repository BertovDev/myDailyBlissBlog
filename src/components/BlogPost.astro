---
import type { CollectionEntry } from "astro:content";
import Layout from "../layouts/Layout.astro";
import Header from "./Header.astro";
import FormatedDate from "./FormatedDate.astro";
import HeaderImage from "./HeaderImage.astro";

type EntryProps = CollectionEntry<"blog">["data"];

const { title, pubDate, references } = Astro.props;
---

<Layout title="blogpost">
  <main
    class="bg-black relative text-white min-h-screen flex flex-col lg:flex-row p-4 lg:p-0"
  >
    <HeaderImage />
    <div
      class="pt-20 lg:pt-32 lg:ml-[16.666667%] min-h-screen lg:p-4 lg:p-8 overflow-y-auto lg:w-3/4"
    >
      <Header />
      <div
        class="w-full px-4 flex content-center mx-auto flex-col justify-center"
      >
        <div class="leading-10 pb-10">
          <FormatedDate date={pubDate} />
          <h1 class="text-4xl pt-2 text-center uppercase font-bold">{title}</h1>
        </div>

        <div class="text-xl leading-relaxed">
          <slot />
        </div>
        <h3 class="pt-10">References</h3>
        <ul role="list" class="pb-10 pl-3 text-xl">
          {
            references.map((reference: string) => (
              <li class="my-2">
                {reference.includes("http") ? (
                  <a
                    class="text-blue-100 underline underline-offset-4"
                    href={reference}
                  >
                    {reference}
                  </a>
                ) : (
                  reference
                )}
              </li>
            ))
          }
        </ul>
      </div>
    </div>
  </main>
</Layout>
